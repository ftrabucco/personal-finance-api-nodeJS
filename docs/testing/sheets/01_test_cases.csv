test_id,feature,title,description,type,priority,preconditions,steps,expected_result,endpoint,request_body,user,depends_on,notes
AUTH-001,Authentication,Register Fran,"Register first user Francisco with valid credentials",functional,critical,None,"1. Send POST to /api/auth/register\n2. Include nombre, email, password in body\n3. Verify response status and body","201, returns user object without password field",POST /api/auth/register,"{""nombre"": ""Francisco"", ""email"": ""fran@test.com"", ""password"": ""Test123""}",Fran,,First user to register
AUTH-002,Authentication,Register Maria,"Register second user Maria Lopez with valid credentials",functional,critical,None,"1. Send POST to /api/auth/register\n2. Include nombre, email, password in body\n3. Verify response status","201, returns user object",POST /api/auth/register,"{""nombre"": ""María López"", ""email"": ""maria@test.com"", ""password"": ""Maria456""}",María,,Second user to register
AUTH-003,Authentication,Register Carlos,"Register third user Carlos Garcia with valid credentials",functional,critical,None,"1. Send POST to /api/auth/register\n2. Include nombre, email, password in body\n3. Verify response status","201, returns user object",POST /api/auth/register,"{""nombre"": ""Carlos García"", ""email"": ""carlos@test.com"", ""password"": ""Carlos789""}",Carlos,,Third user to register
AUTH-004,Authentication,Duplicate email registration,"Attempt to register with an already used email",validation,critical,AUTH-001,"1. Send POST to /api/auth/register with fran@test.com\n2. Verify error response","Error, EMAIL_ALREADY_EXISTS",POST /api/auth/register,"{""nombre"": ""Otro"", ""email"": ""fran@test.com"", ""password"": ""Test123""}",None,,
AUTH-005,Authentication,Weak password registration,"Attempt to register with a password that is too short and lacks complexity",validation,medium,None,"1. Send POST to /api/auth/register with password ""123""\n2. Verify validation error","Error validation (min 6 chars, requires uppercase+lowercase+number)",POST /api/auth/register,"{""nombre"": ""Test"", ""email"": ""test@test.com"", ""password"": ""123""}",None,,
AUTH-006,Authentication,Invalid email registration,"Attempt to register with a malformed email address",validation,medium,None,"1. Send POST to /api/auth/register with email ""noesmail""\n2. Verify validation error","Error validation",POST /api/auth/register,"{""nombre"": ""Test"", ""email"": ""noesmail"", ""password"": ""Test123""}",None,,
AUTH-007,Authentication,Short name registration,"Attempt to register with a name that is too short",validation,medium,None,"1. Send POST to /api/auth/register with nombre ""A""\n2. Verify validation error","Error validation (min 2 chars)",POST /api/auth/register,"{""nombre"": ""A"", ""email"": ""x@test.com"", ""password"": ""Test123""}",None,,
AUTH-008,Authentication,Login Fran,"Login with Fran credentials and obtain JWT token",functional,critical,AUTH-001,"1. Send POST to /api/auth/login\n2. Verify 200 response with token\n3. Save token as TOKEN_FRAN","200, JWT token returned. Save as TOKEN_FRAN",POST /api/auth/login,"{""email"": ""fran@test.com"", ""password"": ""Test123""}",Fran,AUTH-001,
AUTH-009,Authentication,Login Maria,"Login with Maria credentials and obtain JWT token",functional,critical,AUTH-002,"1. Send POST to /api/auth/login\n2. Verify 200 response with token\n3. Save token as TOKEN_MARIA","200, JWT token returned. Save as TOKEN_MARIA",POST /api/auth/login,"{""email"": ""maria@test.com"", ""password"": ""Maria456""}",María,AUTH-002,
AUTH-010,Authentication,Login Carlos,"Login with Carlos credentials and obtain JWT token",functional,critical,AUTH-003,"1. Send POST to /api/auth/login\n2. Verify 200 response with token\n3. Save token as TOKEN_CARLOS","200, JWT token returned. Save as TOKEN_CARLOS",POST /api/auth/login,"{""email"": ""carlos@test.com"", ""password"": ""Carlos789""}",Carlos,AUTH-003,
AUTH-011,Authentication,Login wrong password,"Attempt to login with incorrect password",validation,high,AUTH-001,"1. Send POST to /api/auth/login with wrong password\n2. Verify 401 response","401, INVALID_CREDENTIALS",POST /api/auth/login,"{""email"": ""fran@test.com"", ""password"": ""wrong""}",None,,
AUTH-012,Authentication,Login nonexistent email,"Attempt to login with an email that does not exist",validation,high,None,"1. Send POST to /api/auth/login with unknown email\n2. Verify 401 response","401",POST /api/auth/login,"{""email"": ""nadie@test.com"", ""password"": ""Test123""}",None,,
AUTH-013,Authentication,View profile Fran,"Get Fran profile data using valid token",functional,critical,AUTH-008,"1. Send GET to /api/auth/profile with TOKEN_FRAN\n2. Verify profile data belongs to Fran","200, returns Fran's profile data",GET /api/auth/profile,,Fran,AUTH-008,
AUTH-014,Authentication,View profile Maria,"Get Maria profile data and verify isolation from Fran",functional,critical,AUTH-009,"1. Send GET to /api/auth/profile with TOKEN_MARIA\n2. Verify profile data belongs to Maria not Fran","200, returns Maria's profile data (not Fran's)",GET /api/auth/profile,,María,AUTH-009,
AUTH-015,Authentication,Update name Fran,"Update Fran profile name",functional,high,AUTH-008,"1. Send PUT to /api/auth/profile with new nombre\n2. Verify name is updated","200, nombre updated to Fran Trabucco",PUT /api/auth/profile,"{""nombre"": ""Fran Trabucco""}",Fran,AUTH-008,
AUTH-016,Authentication,Change password Carlos,"Change Carlos password to a new one",functional,high,AUTH-010,"1. Send POST to /api/auth/change-password with current and new password\n2. Verify 200 response","200, password changed successfully",POST /api/auth/change-password,"{""currentPassword"": ""Carlos789"", ""newPassword"": ""Carlos999""}",Carlos,AUTH-010,
AUTH-017,Authentication,Login with new password Carlos,"Verify Carlos can login with changed password",functional,high,AUTH-016,"1. Send POST to /api/auth/login with new password\n2. Verify successful login","200, login works with new password",POST /api/auth/login,"{""email"": ""carlos@test.com"", ""password"": ""Carlos999""}",Carlos,AUTH-016,
AUTH-018,Authentication,Access without token,"Attempt to access protected endpoint without Authorization header",security,critical,None,"1. Send GET to /api/auth/profile without Authorization header\n2. Verify 401 response","401, unauthorized",GET /api/auth/profile,,None,,
AUTH-019,Authentication,Access with invalid token,"Attempt to access protected endpoint with a fake JWT token",security,critical,None,"1. Send GET to /api/auth/profile with Authorization: Bearer tokenfalso\n2. Verify 401 response","401, unauthorized",GET /api/auth/profile,,None,,Token: Bearer tokenfalso
CAT-001,Catalogos,Get all catalogues,"Retrieve all reference data catalogues in a single request",functional,medium,AUTH-008,"1. Send GET to /api/catalogos with valid token\n2. Verify response contains all catalogue types","200, object with categorias, importancias, tiposPago, frecuencias",GET /api/catalogos,,Fran,AUTH-008,Note catalogue IDs for subsequent tests
CAT-002,Catalogos,Verify categories,"Retrieve and verify expense categories list",functional,medium,AUTH-008,"1. Send GET to /api/catalogos/categorias\n2. Verify list contains expected categories","List includes Alquiler, Supermercado, Streaming, etc.",GET /api/catalogos/categorias,,Fran,AUTH-008,
CAT-003,Catalogos,Verify importances,"Retrieve and verify importance levels list",functional,medium,AUTH-008,"1. Send GET to /api/catalogos/importancias\n2. Verify list contains all importance levels","Esencial, Importante, Nice to have, Prescindible, No deberia",GET /api/catalogos/importancias,,Fran,AUTH-008,
CAT-004,Catalogos,Verify payment types,"Retrieve and verify payment types list",functional,medium,AUTH-008,"1. Send GET to /api/catalogos/tipos-pago\n2. Verify list contains all payment types","Efectivo, Debito, Credito, Transferencia, MercadoPago, Cheque",GET /api/catalogos/tipos-pago,,Fran,AUTH-008,
CAT-005,Catalogos,Verify frequencies,"Retrieve and verify expense frequency options",functional,medium,AUTH-008,"1. Send GET to /api/catalogos/frecuencias\n2. Verify list contains all frequencies","Unico, Diario, Semanal, Mensual, Bimestral, Trimestral, Semestral, Anual",GET /api/catalogos/frecuencias,,Fran,AUTH-008,
CARD-001,Tarjetas,Create debit card Fran,"Create a debit card for Fran with Galicia bank",functional,critical,AUTH-008,"1. Send POST to /api/tarjetas with debit card data\n2. Verify 201 response with card details","201, debit card created",POST /api/tarjetas,"{""nombre"": ""Débito Galicia"", ""tipo"": ""debito"", ""banco"": ""Galicia"", ""ultimos_4_digitos"": ""4532""}",Fran,AUTH-008,Save card ID
CARD-002,Tarjetas,Create credit card Fran,"Create Visa Gold credit card for Fran with closing and due dates",functional,critical,AUTH-008,"1. Send POST to /api/tarjetas with credit card data including cierre and vencimiento\n2. Verify 201 response","201, credit card created with closing day 15 and due day 5",POST /api/tarjetas,"{""nombre"": ""Visa Gold"", ""tipo"": ""credito"", ""banco"": ""Galicia"", ""dia_mes_cierre"": 15, ""dia_mes_vencimiento"": 5, ""permite_cuotas"": true, ""ultimos_4_digitos"": ""8821""}",Fran,AUTH-008,Save card ID as visa_fran
CARD-003,Tarjetas,Create debit card Maria,"Create a debit card for Maria with BBVA bank",functional,critical,AUTH-009,"1. Send POST to /api/tarjetas with debit card data\n2. Verify 201 response","201, debit card created",POST /api/tarjetas,"{""nombre"": ""Débito BBVA"", ""tipo"": ""debito"", ""banco"": ""BBVA""}",María,AUTH-009,Save card ID
CARD-004,Tarjetas,Create credit card Maria,"Create Mastercard BBVA credit card for Maria",functional,critical,AUTH-009,"1. Send POST to /api/tarjetas with credit card data\n2. Verify 201 response","201, credit card created with closing day 10 and due day 28",POST /api/tarjetas,"{""nombre"": ""Mastercard BBVA"", ""tipo"": ""credito"", ""banco"": ""BBVA"", ""dia_mes_cierre"": 10, ""dia_mes_vencimiento"": 28, ""permite_cuotas"": true}",María,AUTH-009,Save card ID as mc_maria
CARD-005,Tarjetas,Create credit card Carlos,"Create Amex Platinum credit card for Carlos",functional,critical,AUTH-010,"1. Send POST to /api/tarjetas with credit card data\n2. Verify 201 response","201, credit card created with closing day 20 and due day 10",POST /api/tarjetas,"{""nombre"": ""Amex Platinum"", ""tipo"": ""credito"", ""banco"": ""Amex"", ""dia_mes_cierre"": 20, ""dia_mes_vencimiento"": 10, ""permite_cuotas"": true}",Carlos,AUTH-010,Save card ID as amex_carlos
CARD-006,Tarjetas,Credit card without closing date,"Attempt to create credit card without required closing/due dates",validation,high,AUTH-008,"1. Send POST to /api/tarjetas with type credito but no dia_mes_cierre/vencimiento\n2. Verify error response","Error: requires dia_mes_cierre and dia_mes_vencimiento",POST /api/tarjetas,"{""nombre"": ""Mala"", ""tipo"": ""credito"", ""banco"": ""X""}",Fran,AUTH-008,
CARD-007,Tarjetas,List cards Fran,"List all cards for Fran and verify count",functional,high,"AUTH-008, CARD-001, CARD-002","1. Send GET to /api/tarjetas with TOKEN_FRAN\n2. Verify only Fran's cards are returned","Returns only Fran's 2 cards",GET /api/tarjetas,,Fran,"CARD-001, CARD-002",
CARD-008,Tarjetas,List cards Maria,"List all cards for Maria and verify count",functional,high,"AUTH-009, CARD-003, CARD-004","1. Send GET to /api/tarjetas with TOKEN_MARIA\n2. Verify only Maria's cards are returned","Returns only Maria's 2 cards",GET /api/tarjetas,,María,"CARD-003, CARD-004",
CARD-009,Tarjetas,List cards Carlos,"List all cards for Carlos and verify count",functional,high,"AUTH-010, CARD-005","1. Send GET to /api/tarjetas with TOKEN_CARLOS\n2. Verify only Carlos's card is returned","Returns only Carlos's 1 card",GET /api/tarjetas,,Carlos,CARD-005,
CARD-010,Tarjetas,Card statistics Fran,"Get card statistics for Fran",functional,medium,CARD-007,"1. Send GET to /api/tarjetas/stats with TOKEN_FRAN\n2. Verify stats reflect only Fran's cards","Statistics only for Fran's cards",GET /api/tarjetas/stats,,Fran,CARD-007,
CARD-011,Tarjetas,View another user card,"Maria attempts to view one of Fran's cards by ID",security,critical,"CARD-002, AUTH-009","1. Send GET to /api/tarjetas/{{id_tarjeta_fran}} with TOKEN_MARIA\n2. Verify 404 response","404, card not found (filtered by user)",GET /api/tarjetas/{{id_tarjeta_fran}},,María,"CARD-002, AUTH-009",
CARD-012,Tarjetas,View card usage,"Check usage info for Fran's Visa Gold card showing associated expenses/purchases",functional,medium,"CARD-002, ONE-001","1. Send GET to /api/tarjetas/{{visa_fran}}/usage with TOKEN_FRAN\n2. Verify it shows associated gastos/compras","Shows associated expenses and purchases",GET /api/tarjetas/{{visa_fran}}/usage,,Fran,"CARD-002, ONE-004",Run after expenses are created
CARD-013,Tarjetas,Delete card in use,"Attempt to delete Fran's Visa Gold which has associated expenses",validation,high,CARD-012,"1. Send DELETE to /api/tarjetas/{{visa_fran}} with TOKEN_FRAN\n2. Verify error response","Error: card has associated expenses/purchases and cannot be deleted",DELETE /api/tarjetas/{{visa_fran}},,Fran,CARD-012,
CARD-014,Tarjetas,Delete unused card,"Create a new card then delete it successfully",functional,high,AUTH-008,"1. Create a new card with POST /api/tarjetas\n2. Send DELETE to /api/tarjetas/{{nueva_id}}\n3. Verify 200 response","200, card deleted successfully",DELETE /api/tarjetas/{{nueva_id}},,Fran,AUTH-008,Create a temp card first then delete it
FX-001,Tipo de Cambio,Set manual exchange rate,"Set a manual USD/ARS exchange rate for today",functional,critical,AUTH-008,"1. Send POST to /api/tipo-cambio/manual with buy and sell rates\n2. Verify 201 response with rate created","201, exchange rate created for today",POST /api/tipo-cambio/manual,"{""valor_venta_usd_ars"": 1200, ""valor_compra_usd_ars"": 1180}",Fran,AUTH-008,Required before creating USD expenses
FX-002,Tipo de Cambio,Get current exchange rate,"Retrieve the current exchange rate as another user",functional,high,FX-001,"1. Send GET to /api/tipo-cambio/actual with TOKEN_MARIA\n2. Verify rate matches the one set in FX-001","200, returns the exchange rate set previously",GET /api/tipo-cambio/actual,,María,"AUTH-009, FX-001",Exchange rate is shared across users
FX-003,Tipo de Cambio,Update from external API,"Attempt to update exchange rate from external API source",functional,medium,AUTH-008,"1. Send POST to /api/tipo-cambio/actualizar with fuente auto\n2. Verify response (may fail if external API is down)","200 or 503 depending on external API availability",POST /api/tipo-cambio/actualizar,"{""fuente"": ""auto""}",Fran,AUTH-008,Result depends on external API availability
FX-004,Tipo de Cambio,Convert ARS to USD,"Convert an ARS amount to USD using current exchange rate",functional,high,FX-001,"1. Send POST to /api/tipo-cambio/convertir with ARS amount\n2. Verify response includes monto_ars, monto_usd, tipo_cambio_usado","200, shows monto_ars, monto_usd, tipo_cambio_usado",POST /api/tipo-cambio/convertir,"{""monto"": 120000, ""moneda_origen"": ""ARS""}",Fran,FX-001,
FX-005,Tipo de Cambio,Convert USD to ARS,"Convert a USD amount to ARS using current exchange rate",functional,high,FX-001,"1. Send POST to /api/tipo-cambio/convertir with USD amount\n2. Verify correct conversion","200, correct conversion from USD to ARS",POST /api/tipo-cambio/convertir,"{""monto"": 100, ""moneda_origen"": ""USD""}",María,"AUTH-009, FX-001",
FX-006,Tipo de Cambio,Historical exchange rates,"Retrieve the history of exchange rate records",functional,medium,FX-001,"1. Send GET to /api/tipo-cambio/historico with TOKEN_FRAN\n2. Verify list of exchange rates","200, list of registered exchange rates",GET /api/tipo-cambio/historico,,Fran,FX-001,
FX-007,Tipo de Cambio,Convert negative amount,"Attempt to convert a negative amount",validation,medium,FX-001,"1. Send POST to /api/tipo-cambio/convertir with negative monto\n2. Verify validation error","Error validation",POST /api/tipo-cambio/convertir,"{""monto"": -50, ""moneda_origen"": ""ARS""}",Fran,FX-001,
FX-008,Tipo de Cambio,Convert invalid currency,"Attempt to convert with unsupported currency EUR",validation,medium,FX-001,"1. Send POST to /api/tipo-cambio/convertir with EUR currency\n2. Verify validation error","Error validation",POST /api/tipo-cambio/convertir,"{""monto"": 100, ""moneda_origen"": ""EUR""}",Fran,FX-001,
ONE-001,Gastos Unicos,Create supermarket expense Fran ARS,"Create a one-time supermarket expense in ARS for Fran",functional,critical,"AUTH-008, FX-001","1. Send POST to /api/gastos-unicos with supermarket expense data\n2. Verify 201 with monto_ars=45000 and monto_usd calculated","201, monto_ars=45000, monto_usd calculated from exchange rate",POST /api/gastos-unicos,"{""descripcion"": ""Compra semanal Coto"", ""monto"": 45000, ""fecha"": ""2026-01-28"", ""categoria_gasto_id"": 6, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 2, ""moneda_origen"": ""ARS""}",Fran,"AUTH-008, FX-001",
ONE-002,Gastos Unicos,Create pharmacy expense Maria ARS,"Create a one-time pharmacy expense in ARS for Maria",functional,critical,"AUTH-009, FX-001","1. Send POST to /api/gastos-unicos with pharmacy expense data\n2. Verify 201 response","201, expense created",POST /api/gastos-unicos,"{""descripcion"": ""Ibuprofeno y vitaminas"", ""monto"": 12000, ""fecha"": ""2026-01-27"", ""categoria_gasto_id"": 14, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 1, ""moneda_origen"": ""ARS""}",María,"AUTH-009, FX-001",
ONE-003,Gastos Unicos,Create Uber expense Carlos ARS,"Create a one-time Uber expense in ARS for Carlos",functional,critical,"AUTH-010, FX-001","1. Send POST to /api/gastos-unicos with Uber expense data\n2. Verify 201 response","201, expense created",POST /api/gastos-unicos,"{""descripcion"": ""Uber al trabajo"", ""monto"": 5500, ""fecha"": ""2026-01-30"", ""categoria_gasto_id"": 12, ""importancia_gasto_id"": 3, ""tipo_pago_id"": 4, ""moneda_origen"": ""ARS""}",Carlos,"AUTH-010, FX-001",
ONE-004,Gastos Unicos,Create Amazon expense Fran USD,"Create a one-time Amazon purchase in USD for Fran using credit card",functional,high,"AUTH-008, FX-001, CARD-002","1. Send POST to /api/gastos-unicos with USD expense and tarjeta_id\n2. Verify monto_usd=25 and monto_ars calculated from exchange rate","201, monto_usd=25, monto_ars calculated with exchange rate",POST /api/gastos-unicos,"{""descripcion"": ""Libro Amazon"", ""monto"": 25, ""fecha"": ""2026-01-25"", ""categoria_gasto_id"": 22, ""importancia_gasto_id"": 3, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{visa_fran}}"", ""moneda_origen"": ""USD""}",Fran,"AUTH-008, FX-001, CARD-002",
ONE-005,Gastos Unicos,Missing description validation,"Attempt to create expense without description field",validation,medium,AUTH-008,"1. Send POST to /api/gastos-unicos without descripcion\n2. Verify validation error","Error: descripcion required",POST /api/gastos-unicos,"{""monto"": 1000, ""fecha"": ""2026-01-28"", ""categoria_gasto_id"": 6, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 1}",Fran,AUTH-008,
ONE-006,Gastos Unicos,Negative amount validation,"Attempt to create expense with negative amount",validation,medium,AUTH-008,"1. Send POST to /api/gastos-unicos with negative monto\n2. Verify validation error","Error: monto must be positive",POST /api/gastos-unicos,"{""descripcion"": ""Test"", ""monto"": -500, ""fecha"": ""2026-01-28"", ""categoria_gasto_id"": 6, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 1}",Fran,AUTH-008,
ONE-007,Gastos Unicos,Future date validation,"Attempt to create expense with a future date",validation,medium,AUTH-008,"1. Send POST to /api/gastos-unicos with future date\n2. Verify validation error","Error: date cannot be in the future",POST /api/gastos-unicos,"{""descripcion"": ""Test"", ""monto"": 100, ""fecha"": ""2027-01-01"", ""categoria_gasto_id"": 6, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 1}",Fran,AUTH-008,
ONE-008,Gastos Unicos,Nonexistent category validation,"Attempt to create expense with a category ID that does not exist",validation,medium,AUTH-008,"1. Send POST to /api/gastos-unicos with categoria_gasto_id=999\n2. Verify error","Error: category not found",POST /api/gastos-unicos,"{""descripcion"": ""Test"", ""monto"": 100, ""fecha"": ""2026-01-28"", ""categoria_gasto_id"": 999, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 1}",Fran,AUTH-008,
ONE-009,Gastos Unicos,Short description validation,"Attempt to create expense with description shorter than 3 characters",validation,medium,AUTH-008,"1. Send POST to /api/gastos-unicos with descripcion ""Ab""\n2. Verify validation error","Error: min 3 characters",POST /api/gastos-unicos,"{""descripcion"": ""Ab"", ""monto"": 100, ""fecha"": ""2026-01-28"", ""categoria_gasto_id"": 6, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 1}",Fran,AUTH-008,
ONE-010,Gastos Unicos,Verify associated gastos Fran,"List gastos for Fran and verify one-time expenses generated associated gasto records",functional,high,"ONE-001, ONE-004","1. Send GET to /api/gastos with TOKEN_FRAN\n2. Verify response contains gastos generated from gastos unicos","Contains gastos generated by Fran's gastos unicos",GET /api/gastos,,Fran,"ONE-001, ONE-004",
ONE-011,Gastos Unicos,Verify associated gastos Maria,"List gastos for Maria and verify isolation",functional,high,ONE-002,"1. Send GET to /api/gastos with TOKEN_MARIA\n2. Verify only Maria's gastos appear","Only Maria's gastos are returned",GET /api/gastos,,María,ONE-002,
ONE-012,Gastos Unicos,Verify associated gastos Carlos,"List gastos for Carlos and verify isolation",functional,high,ONE-003,"1. Send GET to /api/gastos with TOKEN_CARLOS\n2. Verify only Carlos's gastos appear","Only Carlos's gastos are returned",GET /api/gastos,,Carlos,ONE-003,
ONE-013,Gastos Unicos,Update one-time expense amount,"Update the amount of Fran's supermarket expense and verify cascade",functional,high,ONE-001,"1. Send PUT to /api/gastos-unicos/{{id}} with new monto\n2. Verify 200 and both GastoUnico and Gasto are updated","200, updates both GastoUnico AND associated Gasto",PUT /api/gastos-unicos/{{id}},"{""monto"": 50000}",Fran,ONE-001,
ONE-014,Gastos Unicos,Verify update cascades to gastos,"Verify that the monto update in ONE-013 is reflected in the gastos list",functional,high,ONE-013,"1. Send GET to /api/gastos with TOKEN_FRAN\n2. Verify the associated gasto has the updated amount","The associated gasto also has the updated amount",GET /api/gastos,,Fran,ONE-013,
ONE-015,Gastos Unicos,Delete one-time expense,"Delete an extra one-time expense and verify cascade deletion",functional,high,AUTH-008,"1. Create an extra gasto unico\n2. Send DELETE to /api/gastos-unicos/{{id}}\n3. Verify 200 and both records removed","200, deletes both GastoUnico AND associated Gasto",DELETE /api/gastos-unicos/{{id}},,Fran,AUTH-008,Create an extra expense first then delete it
ONE-016,Gastos Unicos,Verify delete cascades to gastos,"Verify that the deleted expense no longer appears in gastos list",functional,high,ONE-015,"1. Send GET to /api/gastos with TOKEN_FRAN\n2. Verify the deleted gasto no longer exists","The associated gasto no longer exists",GET /api/gastos,,Fran,ONE-015,
REC-001,Gastos Recurrentes,Create rent Fran monthly ARS,"Create a monthly recurring rent expense for Fran in ARS",functional,critical,AUTH-008,"1. Send POST to /api/gastos-recurrentes with rent data\n2. Verify 201 and no immediate gasto generated","201, recurring expense created. Does NOT generate immediate gasto",POST /api/gastos-recurrentes,"{""descripcion"": ""Alquiler depto Palermo"", ""monto"": 350000, ""dia_de_pago"": 5, ""categoria_gasto_id"": 1, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 4, ""frecuencia_gasto_id"": 4, ""moneda_origen"": ""ARS""}",Fran,AUTH-008,Save ID as id_alquiler
REC-002,Gastos Recurrentes,Create gym Maria monthly ARS,"Create a monthly recurring gym expense for Maria in ARS",functional,critical,AUTH-009,"1. Send POST to /api/gastos-recurrentes with gym data\n2. Verify 201 response","201, recurring expense created",POST /api/gastos-recurrentes,"{""descripcion"": ""Gimnasio Megatlon"", ""monto"": 25000, ""dia_de_pago"": 10, ""categoria_gasto_id"": 19, ""importancia_gasto_id"": 3, ""tipo_pago_id"": 2, ""frecuencia_gasto_id"": 4, ""moneda_origen"": ""ARS""}",María,AUTH-009,Save ID as id_gimnasio
REC-003,Gastos Recurrentes,Create car insurance Carlos monthly ARS,"Create a monthly recurring car insurance expense for Carlos in ARS",functional,critical,AUTH-010,"1. Send POST to /api/gastos-recurrentes with insurance data\n2. Verify 201 response","201, recurring expense created",POST /api/gastos-recurrentes,"{""descripcion"": ""Seguro auto La Caja"", ""monto"": 45000, ""dia_de_pago"": 15, ""categoria_gasto_id"": 25, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 2, ""frecuencia_gasto_id"": 4, ""moneda_origen"": ""ARS""}",Carlos,AUTH-010,Save ID as id_seguro_carlos
REC-004,Gastos Recurrentes,Create OSDE Fran monthly USD,"Create a monthly recurring health insurance expense for Fran in USD",functional,high,"AUTH-008, FX-001","1. Send POST to /api/gastos-recurrentes with USD health insurance data\n2. Verify 201 with monto_usd=150 and monto_ars calculated","201, monto_usd=150, monto_ars calculated from exchange rate",POST /api/gastos-recurrentes,"{""descripcion"": ""OSDE 310"", ""monto"": 150, ""dia_de_pago"": 1, ""categoria_gasto_id"": 16, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 2, ""frecuencia_gasto_id"": 4, ""moneda_origen"": ""USD""}",Fran,"AUTH-008, FX-001",Save ID as id_osde
REC-005,Gastos Recurrentes,Create car tax Carlos semestral ARS,"Create a semi-annual recurring car tax for Carlos in ARS",functional,high,AUTH-010,"1. Send POST to /api/gastos-recurrentes with semestral frequency\n2. Verify 201 response","201, semi-annual recurring expense created",POST /api/gastos-recurrentes,"{""descripcion"": ""Patente auto"", ""monto"": 85000, ""dia_de_pago"": 20, ""mes_de_pago"": 3, ""categoria_gasto_id"": 26, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 4, ""frecuencia_gasto_id"": 7, ""moneda_origen"": ""ARS""}",Carlos,AUTH-010,
REC-006,Gastos Recurrentes,Verify no immediate gasto generated,"Check that Fran's gastos do not include recurring expenses before generation",functional,high,"REC-001, REC-004, ONE-001","1. Send GET to /api/gastos with TOKEN_FRAN\n2. Verify no alquiler or OSDE gastos exist yet","Does NOT contain gastos from rent or OSDE (only one-time expenses)",GET /api/gastos,,Fran,"REC-001, REC-004",
REC-007,Gastos Recurrentes,Generate pending gastos Fran,"Trigger gasto generation for Fran's recurring expenses",functional,critical,REC-006,"1. Send GET to /api/gastos/generate with TOKEN_FRAN\n2. Verify gastos are generated from ready recurring expenses","Generates gastos from recurring expenses that are ready",GET /api/gastos/generate,,Fran,REC-006,
REC-008,Gastos Recurrentes,Generate pending gastos Maria,"Trigger gasto generation for Maria's recurring expenses",functional,critical,REC-002,"1. Send GET to /api/gastos/generate with TOKEN_MARIA\n2. Verify Maria's gastos are generated","Generates Maria's recurring gastos",GET /api/gastos/generate,,María,REC-002,
REC-009,Gastos Recurrentes,Generate pending gastos Carlos,"Trigger gasto generation for Carlos's recurring expenses",functional,critical,REC-003,"1. Send GET to /api/gastos/generate with TOKEN_CARLOS\n2. Verify Carlos's gastos are generated","Generates Carlos's recurring gastos",GET /api/gastos/generate,,Carlos,REC-003,
REC-010,Gastos Recurrentes,Verify generated gastos Fran,"Verify that Fran's gastos list now includes generated recurring expenses",functional,high,REC-007,"1. Send GET to /api/gastos with TOKEN_FRAN\n2. Verify list now includes gastos from recurring expenses","Now includes gastos generated from recurring expenses",GET /api/gastos,,Fran,REC-007,
REC-011,Gastos Recurrentes,Update recurring amount,"Update Fran's rent recurring expense amount to 380000",functional,high,REC-007,"1. Send PUT to /api/gastos-recurrentes/{{id_alquiler}} with new monto\n2. Verify 200 response","200, recurring expense amount updated",PUT /api/gastos-recurrentes/{{id_alquiler}},"{""monto"": 380000}",Fran,REC-007,
REC-012,Gastos Recurrentes,Verify historical gastos preserved,"Verify that previously generated gastos still have the original amount",functional,high,REC-011,"1. Send GET to /api/gastos with TOKEN_FRAN\n2. Check that already generated gastos still show 350000","Previously generated gastos still show 350000 (history preserved)",GET /api/gastos,,Fran,REC-011,
REC-013,Gastos Recurrentes,Deactivate recurring expense,"Deactivate Maria's gym recurring expense",functional,high,REC-008,"1. Send PUT to /api/gastos-recurrentes/{{id_gimnasio}} with activo=false\n2. Verify 200 response","200, recurring expense deactivated",PUT /api/gastos-recurrentes/{{id_gimnasio}},"{""activo"": false}",María,REC-008,
REC-014,Gastos Recurrentes,Generate after deactivation,"Verify that generating gastos does not create new gym gasto after deactivation",functional,high,REC-013,"1. Send GET to /api/gastos/generate with TOKEN_MARIA\n2. Verify no new gym gasto is generated","Does NOT generate new gym gasto",GET /api/gastos/generate,,María,REC-013,
REC-015,Gastos Recurrentes,View another user recurring expense,"Maria attempts to access Fran's recurring rent expense",security,critical,"REC-001, AUTH-009","1. Send GET to /api/gastos-recurrentes/{{id_alquiler_fran}} with TOKEN_MARIA\n2. Verify 404 response","404, not found",GET /api/gastos-recurrentes/{{id_alquiler_fran}},,María,"REC-001, AUTH-009",
DEB-001,Debitos Automaticos,Create Netflix Fran,"Create Netflix automatic debit for Fran with Visa Gold card",functional,critical,"AUTH-008, CARD-002","1. Send POST to /api/debitos-automaticos with Netflix data and tarjeta_id\n2. Verify 201 response","201, automatic debit created",POST /api/debitos-automaticos,"{""descripcion"": ""Netflix Premium"", ""monto"": 12000, ""dia_de_pago"": 15, ""categoria_gasto_id"": 21, ""importancia_gasto_id"": 3, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{visa_fran}}"", ""frecuencia_gasto_id"": 4, ""moneda_origen"": ""ARS""}",Fran,"AUTH-008, CARD-002",Save ID as id_debito_netflix
DEB-002,Debitos Automaticos,Create Spotify Maria,"Create Spotify automatic debit for Maria with Mastercard BBVA",functional,critical,"AUTH-009, CARD-004","1. Send POST to /api/debitos-automaticos with Spotify data\n2. Verify 201 response","201, automatic debit created",POST /api/debitos-automaticos,"{""descripcion"": ""Spotify Familiar"", ""monto"": 5000, ""dia_de_pago"": 20, ""categoria_gasto_id"": 21, ""importancia_gasto_id"": 4, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{mc_maria}}"", ""frecuencia_gasto_id"": 4, ""moneda_origen"": ""ARS""}",María,"AUTH-009, CARD-004",
DEB-003,Debitos Automaticos,Create ChatGPT Carlos USD,"Create ChatGPT Plus automatic debit for Carlos in USD with Amex card",functional,high,"AUTH-010, CARD-005, FX-001","1. Send POST to /api/debitos-automaticos with ChatGPT data in USD\n2. Verify 201 with monto_usd=20 and monto_ars calculated","201, monto_usd=20, monto_ars calculated from exchange rate",POST /api/debitos-automaticos,"{""descripcion"": ""ChatGPT Plus"", ""monto"": 20, ""dia_de_pago"": 5, ""categoria_gasto_id"": 21, ""importancia_gasto_id"": 3, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{amex_carlos}}"", ""frecuencia_gasto_id"": 4, ""moneda_origen"": ""USD""}",Carlos,"AUTH-010, CARD-005, FX-001",
DEB-004,Debitos Automaticos,Create Disney+ Fran with end date,"Create Disney+ automatic debit for Fran with fecha_fin",functional,high,"AUTH-008, CARD-002","1. Send POST to /api/debitos-automaticos with Disney+ data including fecha_fin\n2. Verify 201 with fecha_fin set","201, automatic debit created with fecha_fin",POST /api/debitos-automaticos,"{""descripcion"": ""Disney+ Anual"", ""monto"": 8000, ""dia_de_pago"": 1, ""categoria_gasto_id"": 21, ""importancia_gasto_id"": 4, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{visa_fran}}"", ""frecuencia_gasto_id"": 4, ""fecha_fin"": ""2026-06-30"", ""moneda_origen"": ""ARS""}",Fran,"AUTH-008, CARD-002",
DEB-005,Debitos Automaticos,Generate debits Fran,"Trigger gasto generation for Fran's automatic debits",functional,high,"DEB-001, DEB-004","1. Send GET to /api/gastos/generate with TOKEN_FRAN\n2. Verify Netflix and Disney+ gastos are generated","Generates gastos for Netflix and Disney+",GET /api/gastos/generate,,Fran,"DEB-001, DEB-004",
DEB-006,Debitos Automaticos,Generate debits Carlos,"Trigger gasto generation for Carlos's automatic debits",functional,high,DEB-003,"1. Send GET to /api/gastos/generate with TOKEN_CARLOS\n2. Verify ChatGPT gasto is generated","Generates ChatGPT gasto",GET /api/gastos/generate,,Carlos,DEB-003,
DEB-007,Debitos Automaticos,Verify card in generated gasto,"Verify that generated gastos from debits have the correct tarjeta_id",functional,high,DEB-005,"1. Send GET to /api/gastos with TOKEN_FRAN\n2. Filter by tarjeta and verify Netflix/Disney+ have Visa Gold card","Netflix and Disney+ gastos have tarjeta_id of Visa Gold",GET /api/gastos,,Fran,DEB-005,Filter gastos by tarjeta
INST-001,Compras en Cuotas,Create TV Samsung Fran 12 installments,"Create a 12-installment TV purchase for Fran with Visa Gold",functional,critical,"AUTH-008, CARD-002","1. Send POST to /api/compras with TV purchase data\n2. Verify 201 with monto_total_ars=800000","201, monto_total_ars=800000",POST /api/compras,"{""descripcion"": ""Smart TV Samsung 55\"""", ""monto_total"": 800000, ""fecha_compra"": ""2026-01-15"", ""cantidad_cuotas"": 12, ""categoria_gasto_id"": 5, ""importancia_gasto_id"": 3, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{visa_fran}}"", ""moneda_origen"": ""ARS""}",Fran,"AUTH-008, CARD-002",
INST-002,Compras en Cuotas,Create MacBook Maria 18 installments USD,"Create an 18-installment MacBook purchase for Maria in USD",functional,critical,"AUTH-009, CARD-004, FX-001","1. Send POST to /api/compras with MacBook data in USD\n2. Verify 201 with monto_total_usd=1200 and monto_total_ars calculated","201, monto_total_usd=1200, monto_total_ars calculated from exchange rate",POST /api/compras,"{""descripcion"": ""MacBook Air M3"", ""monto_total"": 1200, ""fecha_compra"": ""2026-01-20"", ""cantidad_cuotas"": 18, ""categoria_gasto_id"": 22, ""importancia_gasto_id"": 2, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{mc_maria}}"", ""moneda_origen"": ""USD""}",María,"AUTH-009, CARD-004, FX-001",
INST-003,Compras en Cuotas,Create Nike Carlos 3 installments,"Create a 3-installment Nike purchase for Carlos with Amex",functional,critical,"AUTH-010, CARD-005","1. Send POST to /api/compras with Nike purchase data\n2. Verify 201 response","201, purchase created",POST /api/compras,"{""descripcion"": ""Nike Air Max"", ""monto_total"": 180000, ""fecha_compra"": ""2026-01-25"", ""cantidad_cuotas"": 3, ""categoria_gasto_id"": 18, ""importancia_gasto_id"": 4, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{amex_carlos}}"", ""moneda_origen"": ""ARS""}",Carlos,"AUTH-010, CARD-005",
INST-004,Compras en Cuotas,Create single installment purchase Fran,"Create a 1-installment purchase that should generate immediate gasto",functional,high,"AUTH-008, CARD-002","1. Send POST to /api/compras with 1 installment\n2. Verify 201 and immediate gasto generation","201, generates immediate gasto",POST /api/compras,"{""descripcion"": ""Cargador USB-C"", ""monto_total"": 15000, ""fecha_compra"": ""2026-01-28"", ""cantidad_cuotas"": 1, ""categoria_gasto_id"": 23, ""importancia_gasto_id"": 4, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{visa_fran}}"", ""moneda_origen"": ""ARS""}",Fran,"AUTH-008, CARD-002",
INST-005,Compras en Cuotas,Generate installments Fran,"Trigger gasto generation for Fran's installment purchases",functional,high,INST-001,"1. Send GET to /api/gastos/generate with TOKEN_FRAN\n2. Verify TV installment gastos are generated based on card closing date","Generates TV installment gastos according to card closing date",GET /api/gastos/generate,,Fran,INST-001,
INST-006,Compras en Cuotas,Generate installments Maria,"Trigger gasto generation for Maria's installment purchases",functional,high,INST-002,"1. Send GET to /api/gastos/generate with TOKEN_MARIA\n2. Verify MacBook installment gastos are generated","Generates MacBook installment gastos",GET /api/gastos/generate,,María,INST-002,
INST-007,Compras en Cuotas,Verify single installment immediate,"Verify the 1-installment purchase already appears in gastos without generation",functional,high,INST-004,"1. Send GET to /api/gastos with TOKEN_FRAN\n2. Verify cargador already appears as a gasto","The cargador (1 installment) already appears as a gasto",GET /api/gastos,,Fran,INST-004,
INST-008,Compras en Cuotas,Verify installment info in gastos,"Verify installment purchases show cuota tracking fields in gastos",functional,high,INST-005,"1. Send GET to /api/gastos?tipo_origen=compra with TOKEN_FRAN\n2. Verify gastos show cantidad_cuotas_totales and cantidad_cuotas_pagadas","Gastos show cantidad_cuotas_totales and cantidad_cuotas_pagadas",GET /api/gastos?tipo_origen=compra,,Fran,INST-005,
INST-009,Compras en Cuotas,Installments over 60 validation,"Attempt to create purchase with more than 60 installments",validation,medium,AUTH-008,"1. Send POST to /api/compras with cantidad_cuotas=61\n2. Verify validation error","Error: max 60 installments",POST /api/compras,"{""descripcion"": ""Test"", ""monto_total"": 100, ""fecha_compra"": ""2026-01-28"", ""cantidad_cuotas"": 61, ""categoria_gasto_id"": 5, ""importancia_gasto_id"": 3, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{visa_fran}}"", ""moneda_origen"": ""ARS""}",Fran,AUTH-008,
INST-010,Compras en Cuotas,Zero amount validation,"Attempt to create purchase with zero total amount",validation,medium,AUTH-008,"1. Send POST to /api/compras with monto_total=0\n2. Verify validation error","Error: monto must be positive",POST /api/compras,"{""descripcion"": ""Test"", ""monto_total"": 0, ""fecha_compra"": ""2026-01-28"", ""cantidad_cuotas"": 3, ""categoria_gasto_id"": 5, ""importancia_gasto_id"": 3, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{visa_fran}}"", ""moneda_origen"": ""ARS""}",Fran,AUTH-008,
FILT-001,Filtros y busqueda,Filter by category,"Filter Fran's gastos by streaming category",functional,medium,"AUTH-008, DEB-005","1. Send GET to /api/gastos?categoria_gasto_id=21 with TOKEN_FRAN\n2. Verify only streaming gastos returned","Only streaming gastos returned",GET /api/gastos?categoria_gasto_id=21,,Fran,DEB-005,
FILT-002,Filtros y busqueda,Filter by date range,"Filter Fran's gastos by January 2026 date range",functional,medium,AUTH-008,"1. Send GET to /api/gastos?fecha_desde=2026-01-01&fecha_hasta=2026-01-31\n2. Verify only January gastos returned","Only January 2026 gastos returned",GET /api/gastos?fecha_desde=2026-01-01&fecha_hasta=2026-01-31,,Fran,AUTH-008,
FILT-003,Filtros y busqueda,Filter by ARS amount range,"Filter Fran's gastos by ARS amount range",functional,medium,AUTH-008,"1. Send GET to /api/gastos?monto_min_ars=10000&monto_max_ars=50000\n2. Verify only gastos in range returned","Only gastos within ARS range 10000-50000",GET /api/gastos?monto_min_ars=10000&monto_max_ars=50000,,Fran,AUTH-008,
FILT-004,Filtros y busqueda,Filter by payment type,"Filter Maria's gastos by credit payment type",functional,medium,AUTH-009,"1. Send GET to /api/gastos?tipo_pago_id=3 with TOKEN_MARIA\n2. Verify only credit card gastos returned","Only gastos with credit payment type",GET /api/gastos?tipo_pago_id=3,,María,AUTH-009,
FILT-005,Filtros y busqueda,Filter by card,"Filter Fran's gastos by Visa Gold card",functional,medium,"AUTH-008, CARD-002","1. Send GET to /api/gastos?tarjeta_id={{visa_fran}} with TOKEN_FRAN\n2. Verify only Visa Gold gastos returned","Only gastos associated with Visa Gold card",GET /api/gastos?tarjeta_id={{visa_fran}},,Fran,CARD-002,
FILT-006,Filtros y busqueda,Pagination first page,"Test pagination with limit=2 and offset=0",functional,medium,AUTH-008,"1. Send GET to /api/gastos?limit=2&offset=0\n2. Verify 2 results and pagination.hasNext=true","2 results returned, pagination.hasNext=true",GET /api/gastos?limit=2&offset=0,,Fran,AUTH-008,
FILT-007,Filtros y busqueda,Pagination next page,"Test pagination second page",functional,medium,FILT-006,"1. Send GET to /api/gastos?limit=2&offset=2\n2. Verify next 2 results returned","Next 2 results returned",GET /api/gastos?limit=2&offset=2,,Fran,FILT-006,
FILT-008,Filtros y busqueda,Order by amount descending,"Order Fran's gastos by amount descending",functional,medium,AUTH-008,"1. Send GET to /api/gastos?orderBy=monto&orderDirection=DESC\n2. Verify results ordered by highest amount first","Results ordered by highest amount first",GET /api/gastos?orderBy=monto&orderDirection=DESC,,Fran,AUTH-008,
FILT-009,Filtros y busqueda,Summary January Fran,"Get expense summary for Fran for January 2026",functional,medium,AUTH-008,"1. Send GET to /api/gastos/summary with January date range\n2. Verify totals in ARS and USD with category/importance/payment breakdowns","Total ARS, total USD, breakdown by category/importance/payment type",GET /api/gastos/summary?fecha_desde=2026-01-01&fecha_hasta=2026-01-31,,Fran,AUTH-008,
FILT-010,Filtros y busqueda,Summary Maria,"Get expense summary for Maria showing only her data",functional,medium,AUTH-009,"1. Send GET to /api/gastos/summary with TOKEN_MARIA\n2. Verify only Maria's data in summary","Only Maria's data in summary",GET /api/gastos/summary,,María,AUTH-009,
FILT-011,Filtros y busqueda,Summary no expenses,"Get summary for a date range with no expenses",functional,medium,AUTH-010,"1. Send GET to /api/gastos/summary for year 2020\n2. Verify totals are 0","Totals are 0",GET /api/gastos/summary?fecha_desde=2020-01-01&fecha_hasta=2020-01-31,,Carlos,AUTH-010,
FILT-012,Filtros y busqueda,Advanced search,"Search gastos with multiple filters using POST endpoint",functional,medium,AUTH-008,"1. Send POST to /api/gastos/search with category and date filters\n2. Verify filtered results","Streaming gastos in January returned",POST /api/gastos/search,"{""categoria_gasto_id"": 21, ""fecha_desde"": ""2026-01-01"", ""limit"": 10, ""offset"": 0}",Fran,AUTH-008,
FILT-013,Filtros y busqueda,Filter active recurring,"Filter Fran's recurring expenses by active status",functional,medium,REC-001,"1. Send GET to /api/gastos-recurrentes?activo=true with TOKEN_FRAN\n2. Verify only active recurring expenses returned","Only active recurring expenses returned",GET /api/gastos-recurrentes?activo=true,,Fran,REC-001,
FILT-014,Filtros y busqueda,Filter inactive recurring,"Filter Maria's recurring expenses by inactive status",functional,medium,REC-013,"1. Send GET to /api/gastos-recurrentes?activo=false with TOKEN_MARIA\n2. Verify only deactivated gym returned","Only the deactivated gym recurring expense",GET /api/gastos-recurrentes?activo=false,,María,REC-013,
FILT-015,Filtros y busqueda,Filter purchases with pending installments,"Filter Fran's purchases that still have pending installments",functional,medium,INST-001,"1. Send GET to /api/compras?pendiente_cuotas=true with TOKEN_FRAN\n2. Verify purchases with remaining installments","Purchases that still have pending installments",GET /api/compras?pendiente_cuotas=true,,Fran,INST-001,
FILT-016,Filtros y busqueda,Filter processed one-time expenses,"Filter Fran's one-time expenses that have been processed into gastos",functional,medium,ONE-001,"1. Send GET to /api/gastos-unicos?procesado=true with TOKEN_FRAN\n2. Verify only processed expenses returned","Only processed one-time expenses returned",GET /api/gastos-unicos?procesado=true,,Fran,ONE-001,
FILT-017,Filtros y busqueda,Filter debits by category,"Filter Fran's automatic debits by streaming category",functional,medium,DEB-001,"1. Send GET to /api/debitos-automaticos?categoria_gasto_id=21 with TOKEN_FRAN\n2. Verify only streaming debits returned","Only streaming automatic debits returned",GET /api/debitos-automaticos?categoria_gasto_id=21,,Fran,DEB-001,
SEC-001,Aislamiento Seguridad,View Fran gasto as Maria,"Maria attempts to view one of Fran's gastos by ID",security,critical,"ONE-001, AUTH-009","1. Send GET to /api/gastos/{{id_gasto_fran}} with TOKEN_MARIA\n2. Verify 404 response","404, not found",GET /api/gastos/{{id_gasto_fran}},,María,"ONE-001, AUTH-009",
SEC-002,Aislamiento Seguridad,View Maria purchase as Carlos,"Carlos attempts to view one of Maria's purchases by ID",security,critical,"INST-002, AUTH-010","1. Send GET to /api/compras/{{id_compra_maria}} with TOKEN_CARLOS\n2. Verify 404 response","404, not found",GET /api/compras/{{id_compra_maria}},,Carlos,"INST-002, AUTH-010",
SEC-003,Aislamiento Seguridad,Edit Carlos recurring as Fran,"Fran attempts to edit one of Carlos's recurring expenses",security,critical,"REC-003, AUTH-008","1. Send PUT to /api/gastos-recurrentes/{{id_rec_carlos}} with TOKEN_FRAN\n2. Verify 404 response","404, not found",PUT /api/gastos-recurrentes/{{id_rec_carlos}},"{""monto"": 1}",Fran,"REC-003, AUTH-008",
SEC-004,Aislamiento Seguridad,Delete Fran debit as Maria,"Maria attempts to delete one of Fran's automatic debits",security,critical,"DEB-001, AUTH-009","1. Send DELETE to /api/debitos-automaticos/{{id_debito_fran}} with TOKEN_MARIA\n2. Verify 404 response","404, not found",DELETE /api/debitos-automaticos/{{id_debito_fran}},,María,"DEB-001, AUTH-009",
SEC-005,Aislamiento Seguridad,View Maria one-time as Carlos,"Carlos attempts to view one of Maria's one-time expenses",security,critical,"ONE-002, AUTH-010","1. Send GET to /api/gastos-unicos/{{id_unico_maria}} with TOKEN_CARLOS\n2. Verify 404 response","404, not found",GET /api/gastos-unicos/{{id_unico_maria}},,Carlos,"ONE-002, AUTH-010",
SEC-006,Aislamiento Seguridad,Delete Carlos card as Fran,"Fran attempts to delete one of Carlos's cards",security,critical,"CARD-005, AUTH-008","1. Send DELETE to /api/tarjetas/{{id_tarjeta_carlos}} with TOKEN_FRAN\n2. Verify 404 response","404, not found",DELETE /api/tarjetas/{{id_tarjeta_carlos}},,Fran,"CARD-005, AUTH-008",
MCU-001,Multi-moneda E2E,Create expense in USD end-to-end,"Create a one-time USD expense and verify dual-currency amounts",functional,high,"AUTH-008, FX-001","1. Send POST to /api/gastos-unicos with moneda_origen=USD and monto=50\n2. Verify monto_usd=50 and monto_ars=50*TC_compra","monto_usd=50, monto_ars=50*TC_compra",POST /api/gastos-unicos,"{""descripcion"": ""Compra USD test"", ""monto"": 50, ""fecha"": ""2026-01-28"", ""categoria_gasto_id"": 22, ""importancia_gasto_id"": 3, ""tipo_pago_id"": 3, ""tarjeta_id"": ""{{visa_fran}}"", ""moneda_origen"": ""USD""}",Fran,"AUTH-008, FX-001",
MCU-002,Multi-moneda E2E,Create expense in ARS end-to-end,"Create a one-time ARS expense and verify dual-currency amounts",functional,high,"AUTH-008, FX-001","1. Send POST to /api/gastos-unicos with moneda_origen=ARS and monto=60000\n2. Verify monto_ars=60000 and monto_usd=60000/TC_venta","monto_ars=60000, monto_usd=60000/TC_venta",POST /api/gastos-unicos,"{""descripcion"": ""Compra ARS test"", ""monto"": 60000, ""fecha"": ""2026-01-28"", ""categoria_gasto_id"": 6, ""importancia_gasto_id"": 1, ""tipo_pago_id"": 2, ""moneda_origen"": ""ARS""}",Fran,"AUTH-008, FX-001",
MCU-003,Multi-moneda E2E,Verify exchange rate snapshot,"Verify the tipo_cambio_usado in the gasto matches the TC at creation time",functional,high,MCU-001,"1. Get the gasto created in MCU-001\n2. Compare tipo_cambio_usado with the current TC\n3. Verify they match","tipo_cambio_usado matches the exchange rate at time of creation",GET /api/gastos,,Fran,MCU-001,Compare tipo_cambio_usado field
MCU-004,Multi-moneda E2E,Change TC and create new gasto,"Set a new exchange rate then create a gasto and verify it uses the new rate",functional,high,"AUTH-008, FX-001","1. Send POST to /api/tipo-cambio/manual with new rate\n2. Create a new gasto unico\n3. Verify new gasto uses new TC while previous gastos keep old TC","New gasto uses new TC; previous gastos maintain their original TC",POST /api/tipo-cambio/manual,,Fran,"AUTH-008, FX-001",Set new TC then create expense
MCU-005,Multi-moneda E2E,Update recurring USD to ARS,"Update OSDE recurring from USD to ARS currency",functional,high,REC-004,"1. Send PUT to /api/gastos-recurrentes/{{osde}} with moneda_origen=ARS and new monto\n2. Verify recalculation of monto_ars and monto_usd","Recalculates monto_ars and monto_usd",PUT /api/gastos-recurrentes/{{id_osde}},"{""moneda_origen"": ""ARS"", ""monto"": 200000}",Fran,REC-004,
MCU-006,Multi-moneda E2E,Update only amount keeps currency,"Update OSDE recurring amount only and verify currency stays the same",functional,high,MCU-005,"1. Send PUT to /api/gastos-recurrentes/{{osde}} with only monto change\n2. Verify recalculation with current currency","Recalculates both amounts with current currency",PUT /api/gastos-recurrentes/{{id_osde}},"{""monto"": 250000}",Fran,MCU-005,
MCU-007,Multi-moneda E2E,Summary with both currencies,"Verify expense summary shows totals in both ARS and USD",functional,high,AUTH-008,"1. Send GET to /api/gastos/summary with TOKEN_FRAN\n2. Verify response includes totals in both ARS and USD","Shows totals in both ARS and USD",GET /api/gastos/summary,,Fran,AUTH-008,
GEN-001,Generacion 2do ciclo,Generate second cycle Fran,"Generate second month gastos for Fran's recurring expenses and debits",time_based,high,"REC-007, DEB-005, INST-005","1. Wait for second payment cycle (or simulate)\n2. Send GET to /api/gastos/generate with TOKEN_FRAN\n3. Verify new gastos for Alquiler, OSDE, Netflix, Disney+","Generates new gastos for: Alquiler, OSDE, Netflix, Disney+",GET /api/gastos/generate,,Fran,"REC-007, DEB-005, INST-005",Run ~1 month after initial generation
GEN-002,Generacion 2do ciclo,Generate second cycle Maria,"Generate second month gastos for Maria",time_based,high,"REC-008, DEB-002","1. Send GET to /api/gastos/generate with TOKEN_MARIA\n2. Verify Spotify generates but gym does NOT (deactivated)","Generates Spotify gasto. Does NOT generate Gimnasio (deactivated in REC-013)",GET /api/gastos/generate,,María,"REC-008, DEB-002, REC-013",
GEN-003,Generacion 2do ciclo,Generate second cycle Carlos,"Generate second month gastos for Carlos",time_based,high,"REC-009, DEB-006","1. Send GET to /api/gastos/generate with TOKEN_CARLOS\n2. Verify Seguro auto and ChatGPT generate but Patente does NOT","Generates: Seguro auto, ChatGPT. Does NOT generate Patente (semi-annual, not due)",GET /api/gastos/generate,,Carlos,"REC-009, DEB-006",
GEN-004,Generacion 2do ciclo,Count rent gastos Fran,"Verify Fran now has 2 rent gastos (one per month)",time_based,high,GEN-001,"1. Send GET to /api/gastos?tipo_origen=gasto_recurrente with TOKEN_FRAN\n2. Count Alquiler gastos","Now has 2 Alquiler gastos (one per month)",GET /api/gastos?tipo_origen=gasto_recurrente,,Fran,GEN-001,
GEN-005,Generacion 2do ciclo,Verify amounts preserved across months,"Verify first month rent is 350000 and second month is 380000",time_based,high,GEN-004,"1. Review both Alquiler gastos\n2. Verify first month has original amount and second has updated amount","1st month: $350,000 (original), 2nd month: $380,000 (updated in REC-011)",GET /api/gastos,,Fran,GEN-004,
GEN-006,Generacion 2do ciclo,Verify different dates per month,"Verify each rent gasto has the correct month date (day 5)",time_based,high,GEN-004,"1. Review fecha field of both Alquiler gastos\n2. Verify each has the date of its corresponding month","Each gasto has fecha of its corresponding month (day 5)",GET /api/gastos,,Fran,GEN-004,
GEN-007,Generacion 2do ciclo,Gym did not generate second month,"Verify Maria's gym did not generate a second month gasto",time_based,high,GEN-002,"1. Send GET to /api/gastos filtering by gym recurring\n2. Verify only 1 gasto from first month exists","Only 1 gym gasto from first month; no second month",GET /api/gastos,,María,GEN-002,
GEN-008,Generacion 2do ciclo,OSDE USD second month recalculation,"Verify OSDE second month gasto has USD amount and ARS recalculated with current TC",time_based,high,GEN-001,"1. Review OSDE gasto from second month\n2. Verify monto_usd and monto_ars recalculated","monto_usd=150 (or updated), monto_ars recalculated with TC at generation time",GET /api/gastos,,Fran,GEN-001,
GEN-009,Generacion 2do ciclo,Netflix second month,"Verify Fran has 2 Netflix gastos with Visa Gold card",time_based,high,GEN-001,"1. Send GET to /api/gastos?tipo_origen=debito_automatico\n2. Verify 2 Netflix gastos with Visa Gold tarjeta","2 Netflix gastos, both with Visa Gold tarjeta_id",GET /api/gastos?tipo_origen=debito_automatico,,Fran,GEN-001,
GEN-010,Generacion 2do ciclo,Disney+ still active,"Verify Disney+ generated because it is before fecha_fin",time_based,high,GEN-001,"1. Review Disney+ gasto from second month\n2. Verify it generated because we are before 2026-06-30","Generated because current date is before fecha_fin (2026-06-30)",GET /api/gastos,,Fran,GEN-001,
GEN-011,Generacion 2do ciclo,ChatGPT USD second month,"Verify Carlos's ChatGPT second month gasto has USD and recalculated ARS",time_based,high,GEN-003,"1. Review ChatGPT gasto from second month\n2. Verify monto_usd=20 and monto_ars recalculated","monto_usd=20, monto_ars recalculated with current exchange rate",GET /api/gastos,,Carlos,GEN-003,
GEN-012,Generacion 2do ciclo,Spotify second month,"Verify Maria's Spotify generated correctly for second month",time_based,high,GEN-002,"1. Review Spotify gasto from second month\n2. Verify it generated correctly","Spotify gasto generated correctly for second month",GET /api/gastos,,María,GEN-002,
GEN-013,Generacion 2do ciclo,TV Samsung installment 2,"Verify Fran has 2 TV installment gastos (cuota 1/12 and 2/12)",time_based,high,GEN-001,"1. Send GET to /api/gastos?tipo_origen=compra filtering by TV\n2. Verify 2 gastos: cuota 1/12 and cuota 2/12","2 gastos: cuota 1/12 and cuota 2/12",GET /api/gastos?tipo_origen=compra,,Fran,GEN-001,
GEN-014,Generacion 2do ciclo,TV installment amount correct,"Verify each TV installment is approximately 66667 ARS",time_based,high,GEN-013,"1. Review monto of each TV cuota\n2. Verify ~$66,667 per installment (800,000/12)","~$66,667 per installment (800,000/12)",GET /api/gastos,,Fran,GEN-013,
GEN-015,Generacion 2do ciclo,MacBook installment 2 USD,"Verify Maria has 2 MacBook installment gastos in USD",time_based,high,GEN-002,"1. Review MacBook cuotas for Maria\n2. Verify 2 cuotas at ~$66.67 USD each (1200/18)","2 cuotas, each ~$66.67 USD (1200/18)",GET /api/gastos,,María,GEN-002,
GEN-016,Generacion 2do ciclo,Nike installment 2 of 3,"Verify Carlos has 2 of 3 Nike installment gastos",time_based,high,GEN-003,"1. Review Nike cuotas for Carlos\n2. Verify 2 of 3 cuotas at ~$60,000 each (180,000/3)","2 of 3 cuotas, ~$60,000 each (180,000/3)",GET /api/gastos,,Carlos,GEN-003,
GEN-017,Generacion 2do ciclo,Single installment no more generation,"Verify the 1-installment cargador does not generate additional gastos",time_based,high,GEN-001,"1. Review gastos for cargador\n2. Verify only 1 gasto exists (purchase completed)","Only 1 gasto (1-installment purchase already completed)",GET /api/gastos,,Fran,GEN-001,
GEN-018,Generacion 2do ciclo,No duplicate generation,"Run generate again immediately and verify no duplicates are created",time_based,high,GEN-001,"1. Send GET to /api/gastos/generate immediately after GEN-001\n2. Verify 0 new gastos generated","0 new gastos generated, no duplicates",GET /api/gastos/generate,,Fran,GEN-001,
GEN-019,Generacion 2do ciclo,Total gastos count unchanged,"Verify total gastos count is same as after GEN-001",time_based,high,GEN-018,"1. Send GET to /api/gastos with TOKEN_FRAN\n2. Count total gastos\n3. Verify same total as after test GEN-001","Same total gastos count as after GEN-001",GET /api/gastos,,Fran,GEN-018,
GEN-020,Generacion 2do ciclo,Summary month 1 only,"Get Fran's summary for January only",time_based,medium,GEN-001,"1. Send GET to /api/gastos/summary with January date range\n2. Verify totals reflect only January gastos","Totals only from January",GET /api/gastos/summary?fecha_desde=2026-01-01&fecha_hasta=2026-01-31,,Fran,GEN-001,
GEN-021,Generacion 2do ciclo,Summary month 2 only,"Get Fran's summary for February only",time_based,medium,GEN-001,"1. Send GET to /api/gastos/summary with February date range\n2. Verify totals reflect only February gastos with new amounts","Totals only from February (with updated amounts)",GET /api/gastos/summary?fecha_desde=2026-02-01&fecha_hasta=2026-02-28,,Fran,GEN-001,
GEN-022,Generacion 2do ciclo,Summary both months,"Get Fran's summary for January and February combined",time_based,medium,GEN-001,"1. Send GET to /api/gastos/summary with Jan-Feb date range\n2. Verify accumulated totals for both months","Accumulated total for 2 months",GET /api/gastos/summary?fecha_desde=2026-01-01&fecha_hasta=2026-02-28,,Fran,GEN-001,
LOUT-001,Logout,Logout Fran,"Logout Fran's session",functional,low,AUTH-008,"1. Send POST to /api/auth/logout with TOKEN_FRAN\n2. Verify 200 response","200, logged out",POST /api/auth/logout,,Fran,AUTH-008,
LOUT-002,Logout,Use token after logout,"Attempt to use Fran's token after logout",functional,low,LOUT-001,"1. Send GET to /api/gastos with TOKEN_FRAN after logout\n2. Observe behavior","Depends on implementation (JWT is stateless, may still work)",GET /api/gastos,,Fran,LOUT-001,JWT is stateless so token may still be valid
LOUT-003,Logout,Logout Maria,"Logout Maria's session",functional,low,AUTH-009,"1. Send POST to /api/auth/logout with TOKEN_MARIA\n2. Verify 200 response","200, logged out",POST /api/auth/logout,,María,AUTH-009,
LOUT-004,Logout,Logout Carlos,"Logout Carlos's session",functional,low,AUTH-010,"1. Send POST to /api/auth/logout with TOKEN_CARLOS\n2. Verify 200 response","200, logged out",POST /api/auth/logout,,Carlos,AUTH-010,
