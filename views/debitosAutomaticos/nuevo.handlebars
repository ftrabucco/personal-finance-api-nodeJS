<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Nuevo Débito Automático</h1>
</div>

<div class="row">
  <div class="col-md-6">
    <form method="POST" action="/debitos-automaticos/nuevo" class="needs-validation" novalidate>
      <div class="mb-3">
        <label class="form-label">Descripción:</label>
        <input type="text" name="descripcion" class="form-control" required />
      </div>

      <div class="mb-3">
        <label class="form-label">Monto:</label>
        <input type="number" name="monto" step="0.01" class="form-control" required />
      </div>

      <div class="mb-3">
        <label class="form-label">Día de pago:</label>
        <input type="number" name="dia_de_pago" min="1" max="31" class="form-control" required />
        <div class="form-text">Día del mes en que se realiza el débito</div>
      </div>

      <div class="mb-3">
        <label class="form-label">Comenzar a generar débitos desde:</label>
        <input type="date" name="fecha_inicio" class="form-control" value="{{formData.fecha_inicio}}" />
        <div class="form-text">Los débitos se generarán a partir de esta fecha inclusive. Si no se completa, se usa la fecha de hoy.</div>
      </div>

      <div class="mb-3 form-check">
        <input type="checkbox" name="generar_mes_actual" class="form-check-input" id="generar_mes_actual" {{#if formData.generar_mes_actual}}checked{{/if}} />
        <label class="form-check-label" for="generar_mes_actual">Generar también el débito del mes actual</label>
        <div class="form-text">Si se marca, se incluirá el débito correspondiente al período actual aunque el día de pago ya haya pasado.</div>
      </div>

      <div class="mb-3">
        <label class="form-label">Frecuencia:</label>
        <select name="frecuencia_gasto_id" class="form-select" required>
          <option value="">Seleccione una frecuencia</option>
          {{#each frecuencias}}
            <option value="{{this.id}}">{{this.nombre_frecuencia}}</option>
          {{/each}}
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Categoría:</label>
        <select name="categoria_gasto_id" class="form-select" required>
          <option value="">Seleccione una categoría</option>
          {{#each categorias}}
            <option value="{{this.id}}">{{this.nombre_categoria}}</option>
          {{/each}}
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Importancia:</label>
        <select name="importancia_gasto_id" class="form-select" required>
          <option value="">Seleccione una importancia</option>
          {{#each importancias}}
            <option value="{{this.id}}">{{this.nombre_importancia}}</option>
          {{/each}}
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Tipo de pago:</label>
        <select name="tipo_pago_id" class="form-select" required>
          <option value="">Seleccione un tipo de pago</option>
          {{#each tiposPago}}
            <option value="{{this.id}}">{{this.nombre}}</option>
          {{/each}}
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Tarjeta:</label>
        <select name="tarjeta_id" class="form-select">
          <option value="">Seleccione una tarjeta (opcional)</option>
          {{#each tarjetas}}
            <option value="{{this.id}}">{{this.nombre}} - {{this.banco}}</option>
          {{/each}}
        </select>
      </div>

      <div class="mb-3">
        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="/debitos-automaticos" class="btn btn-secondary">Cancelar</a>
      </div>
    </form>
  </div>
</div> 