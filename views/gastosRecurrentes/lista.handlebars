<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Gastos Recurrentes</h1>
  <a href="/gastos-recurrentes/nuevo" class="btn btn-primary">Nuevo Gasto Recurrente</a>
</div>

<div class="table-responsive">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Descripción</th>
        <th class="text-end">Monto</th>
        <th class="text-center">Día de Pago</th>
        <th>Frecuencia</th>
        <th>Categoría</th>
        <th>Importancia</th>
        <th>Tipo de Pago</th>
        <th>Tarjeta</th>
        <th class="text-end">Acciones</th>
      </tr>
    </thead>
    <tbody>
      {{#each gastos}}
        <tr>
          <td>{{this.descripcion}}</td>
          <td class="text-end">{{formatMoney this.monto}}</td>
          <td class="text-center">{{formatDayOfMonth this.dia_de_pago}}</td>
          <td>{{this.frecuencia.nombre_frecuencia}}</td>
          <td>{{this.categoria.nombre_categoria}}</td>
          <td>{{this.importancia.nombre_importancia}}</td>
          <td>{{this.tipoPago.nombre}}</td>
          <td>{{#if this.tarjeta}}{{this.tarjeta.nombre}}{{else}}-{{/if}}</td>
          <td class="text-end">
            <div class="btn-group btn-group-sm">
              <a href="/gastos-recurrentes/{{this.id}}" class="btn btn-info">
                <i class="bi bi-eye"></i> Ver
              </a>
              <a href="/gastos-recurrentes/editar/{{this.id}}" class="btn btn-warning">
                <i class="bi bi-pencil"></i> Editar
              </a>
              <form action="/gastos-recurrentes/{{this.id}}?_method=DELETE" method="POST" class="d-inline">
                <button type="submit" class="btn btn-danger" onclick="return confirm('¿Estás seguro de eliminar este gasto recurrente?')">
                  <i class="bi bi-trash"></i> Eliminar
                </button>
              </form>
            </div>
          </td>
        </tr>
      {{else}}
        <tr>
          <td colspan="9" class="text-center">No hay gastos recurrentes registrados</td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div> 